{"version":3,"sources":["context/DataContext.js","components/Header/Header.js","components/Footer/Footer.js","images/trash.svg","components/UserCard/UserCard.js","components/SearchForm/SearchForm.js","components/SearchList/SearchList.js","components/Favourites/Favourites.js","components/Preloader/Preloader.js","components/Main/Main.js","utils/Api.js","utils/utils.js","components/App/App.js","index.js"],"names":["DataContext","React","createContext","Header","className","Footer","UserCard","index","picture","name","registered","email","handleFavourite","isFavouriteDOM","handleDeleteFavourite","user","draggable","onDragStart","e","target","closest","document","querySelector","style","background","opacity","border","visibility","transition","dragStartHandler","onDragEnd","dragEndHandler","onDragOver","preventDefault","dragOverHandler","src","large","alt","Date","date","toLocaleString","month","day","year","delIcon","onClick","SearchForm","userSearch","useState","text","setText","type","value","placeholder","onChange","SearchList","sortUsers","isLoaded","searchResults","handleClickOpen","classList","toggle","Object","entries","map","item","length","props","Favourites","favourite","favourites","setFavourites","currentUser","setCurrentUser","filter","f","onDrop","some","dragDropUl","dragOverUl","onDragLeave","boxShadow","p","dragDropHandler","Preloader","isLoadError","isLoading","sectionPreloaderVisible","circleVisible","containerVisible","Main","fetch","method","headers","then","res","json","results","reNewUsersCategories","usersCategories","items","users","forEach","age","push","App","setSortUsers","setIsLoaded","setFavourite","setIsLoading","setIsLoadError","dataContext","setDataContext","useEffect","Api","sort","a","b","first","last","utils","catch","err","console","log","finally","Provider","tempArr","Array","values","filterUsers","i","toLowerCase","includes","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.454fe921.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst DataContext = React.createContext();\r\n\r\nexport default DataContext;","import React from 'react';\r\n\r\nexport default function Header() {\r\n    return (\r\n        <header className='header'>\r\n            <h1 className='header__head'>JustAI Test Task</h1>\r\n        </header>\r\n    )\r\n}","import React from 'react';\r\n\r\nexport default function Footer() {\r\n    return (\r\n        <footer className='footer'>\r\n            <p className='footer__text'>©2021 JustAI Test Task</p>\r\n        </footer>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/trash.4664d724.svg\";","import React from 'react';\r\n\r\nimport delIcon from '../../images/trash.svg';\r\n\r\nexport default function UserCard({ index, picture, name, registered, email, handleFavourite, isFavouriteDOM, handleDeleteFavourite }) {\r\n\r\n    // В данном компоненте реализовано отображение карточки пользователя,\r\n    // а также DnD механика перемещения из поля поиска в поле \"Избранное\"\r\n    // Для перемещения добавлены эффекты анимации \"броска\"\r\n\r\n    const user = [{ picture, name, registered, email }];\r\n\r\n    const dragStartHandler = (e, user) => {\r\n        if (e.target.closest('.main__search-list')) {\r\n            handleFavourite(user);\r\n            document.querySelector('.main__favourites-list').style.background = 'steelblue';\r\n            document.querySelector('.main__favourites-list').style.opacity = '.6';\r\n            e.target.style.border = '2px solid steelblue';\r\n            document.querySelector('.main__favourites-list_overlay').style.visibility = 'hidden';\r\n            document.querySelector('.main__favourites-list_overlay').style.opacity = '0';\r\n            document.querySelector('.main__favourites-list_overlay').style.transition = 'all .2s linear';\r\n        }\r\n    };\r\n\r\n    const dragEndHandler = (e) => {\r\n        if (e.target.closest('.main__search-list')) {\r\n            document.querySelector('.main__favourites-list').style.background = 'white';\r\n            document.querySelector('.main__favourites-list').style.opacity = '1';\r\n            e.target.style.border = '1px solid steelblue';\r\n            document.querySelector('.main__favourites-list_overlay').style.visibility = 'visible';\r\n            document.querySelector('.main__favourites-list_overlay').style.opacity = '1';\r\n            document.querySelector('.main__favourites-list_overlay').style.transition = 'all .2s linear';\r\n        }\r\n    };\r\n\r\n    const dragOverHandler = e => {\r\n        e.preventDefault();\r\n    };\r\n\r\n    return (\r\n        <div\r\n            className='user-card'\r\n            draggable={true}\r\n            onDragStart={e => dragStartHandler(e, user)}\r\n            onDragEnd={e => dragEndHandler(e)}\r\n            onDragOver={e => dragOverHandler(e)}\r\n        >\r\n            <img className='user-card__img' src={picture.large} alt='User img' />\r\n            <div className='user-card__data'>\r\n                <p className='user-card__text'>{name}</p>\r\n                <p className='user-card__text'>\r\n                    register data: {new Date(registered.date).toLocaleString('en', { month: 'long', day: 'numeric', year: 'numeric' })}\r\n                </p>\r\n                <p className='user-card__text'>{email}</p>\r\n            </div>\r\n            {isFavouriteDOM && <img src={delIcon} alt='delete' className='user-card__delete-icon' onClick={e => handleDeleteFavourite(e, name)} />}\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\n\r\nexport default function SearchForm({ userSearch }) {\r\n    // Компонент поиска пользователей в списке\r\n    // Используется метод userSearch из App.js \r\n    // Для передачи значения инпута используется управляемый компонент \r\n    const [text, setText] = React.useState('');\r\n\r\n    const handleChange = e => {\r\n        const value = e.target.value;\r\n        e.target.name === 'input' && setText(value);\r\n        userSearch(value);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <input type='text' name='input' value={text || ''} placeholder='Search field (enter name with lower case)' className='main__search-input' onChange={handleChange} />\r\n        </>\r\n    )\r\n}","import React from 'react';\r\n\r\nimport UserCard from '../UserCard/UserCard';\r\nimport SearchForm from '../SearchForm/SearchForm';\r\n\r\nexport default function SearchList({ sortUsers, isLoaded, userSearch, searchResults, handleFavourite }) {\r\n\r\n    // Метод открытия/закрытия вкладки группы пользователей\r\n    const handleClickOpen = e => {\r\n        e.target.closest('.main__search-list-user-type').querySelector('.main__search-list-type-users').classList.toggle('main__search-list-type-users_close');\r\n    };\r\n\r\n    return (\r\n        <div className='main__search-list'>\r\n            <h3 className='main__search-list-head'>Search user</h3>\r\n            <SearchForm userSearch={userSearch} searchResults={searchResults} sortUsers={sortUsers} />\r\n            <div className='main__search-list-users'>\r\n\r\n                {/*  \r\n                    После загрузки юзеров, отсортированные данные заполняютя окно поиска пользоваталей, группируясь по соответствующим вкладкам \r\n                    Категории, в которых отсутствуют данные скрыты\r\n                */}\r\n                {\r\n                    isLoaded &&\r\n                    Object.entries(sortUsers).map((item, index) =>\r\n                        <div className={`main__search-list-user-type ${item[1].length < 1 && 'main__search-list-user-type_disabled'}`} key={index}>\r\n                            <div className='main__search-list-user-type-head' onClick={handleClickOpen}>\r\n                                <p className='main__search-list-user-type-name'>{item[0]}</p><span className='main__search-list-user-type-arrow'>&#8693;</span>\r\n                            </div>\r\n\r\n                            <ul className='main__search-list-type-users'>\r\n                                {\r\n\r\n                                    item[1].map(({ ...props }, index) =>\r\n                                        <UserCard\r\n                                            key={index}\r\n                                            index={index}\r\n                                            picture={props.picture}\r\n                                            name={props.name}\r\n                                            registered={props.registered}\r\n                                            email={props.email}\r\n                                            handleFavourite={handleFavourite}\r\n                                        />\r\n                                    )\r\n                                }\r\n                            </ul>\r\n                        </div>\r\n                    )\r\n                }\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\n\r\nimport UserCard from '../UserCard/UserCard';\r\n\r\nexport default function Favourites({ favourite }) {\r\n    // Компонент, отвечающий за отображение содержимого поля \"Избранное\"\r\n    //Реализовано DnD вертикальное перемещение между карточками  \r\n\r\n    const isFavouriteDOM = true;\r\n    const [favourites, setFavourites] = React.useState([]);\r\n    const [currentUser, setCurrentUser] = React.useState(null);\r\n\r\n    const dragOverHandler = (e) => {\r\n        e.preventDefault();\r\n    };\r\n\r\n    const dragLeaveHandler = (e) => {\r\n    };\r\n\r\n    const dragStartHandler = (e, item) => {\r\n        setCurrentUser(item);\r\n    };\r\n\r\n    const dragEndHandler = (e) => {\r\n        e.target.style.boxShadow = 'none';\r\n    };\r\n\r\n    const dragDropHandler = (e, item) => {\r\n        e.preventDefault();\r\n        if (!e.target.closest('.main__search-list')) {\r\n            setFavourites(favourites.map((p) => {\r\n                if (p === item) return currentUser;\r\n                if (p === currentUser) return item;\r\n                return p;\r\n            }));\r\n            e.target.style.boxShadow = 'none';\r\n        }\r\n    };\r\n\r\n    const dragDropUl = (e) => {\r\n        e.preventDefault();\r\n        favourite.map(f => {\r\n            if (favourites.some(user => user.name === f.name)) return;\r\n            setFavourites([...favourites, f]);\r\n        });\r\n    };\r\n\r\n    const dragOverUl = (e) => {\r\n        e.preventDefault();\r\n    };\r\n\r\n    // Метод удаления карточки из списка \r\n    const handleDeleteFavourite = (e, name) => {\r\n        setFavourites(favourites.filter(f => f.name !== name));\r\n    };\r\n\r\n    return (\r\n        <div className='main__favourites'>\r\n            <h3 className='main__favourites-head'>Favourites</h3>\r\n            <ul\r\n                className='main__favourites-list'\r\n                draggable={true}\r\n                onDrop={e => dragDropUl(e)}\r\n                onDragOver={e => dragOverUl(e)}\r\n            >\r\n                <div className='main__favourites-list_overlay'>\r\n                    {\r\n                        favourites.map((item, index) =>\r\n                            <li\r\n                                key={index}\r\n                                className='main__favourites-list-item'\r\n                                draggable={true}\r\n                                onDragOver={e => dragOverHandler(e)}\r\n                                onDragLeave={e => dragLeaveHandler(e)}\r\n                                onDragStart={e => dragStartHandler(e, item)}\r\n                                onDragEnd={e => dragEndHandler(e)}\r\n                                onDrop={e => dragDropHandler(e, item)}\r\n                            >\r\n                                <UserCard\r\n                                    key={index}\r\n                                    index={index}\r\n                                    picture={item.picture}\r\n                                    name={item.name}\r\n                                    registered={item.registered}\r\n                                    email={item.email}\r\n                                    isFavouriteDOM={isFavouriteDOM}\r\n                                    handleDeleteFavourite={handleDeleteFavourite}\r\n                                />\r\n                            </li>\r\n                        )\r\n                    }\r\n                </div>\r\n            </ul>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\n\r\nexport default function Preloader({ isLoadError, isLoading }) {\r\n    const sectionPreloaderVisible = (!isLoadError && !isLoading) && 'preloader__visible';\r\n    const circleVisible = !isLoading && 'preloader__visible';\r\n    const containerVisible = !isLoadError && 'preloader__visible';\r\n    const containerText = 'Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз';\r\n    return (\r\n        <section className={`preloader ${sectionPreloaderVisible}`}>\r\n            <i className={`circle-preloader ${circleVisible}`} />\r\n            <div className={`preloader__container ${containerVisible}`}>\r\n                <p className='preloader__text'>{containerText}</p>\r\n            </div>\r\n        </section>\r\n    )\r\n}","import React from 'react';\r\n\r\nimport SearchList from '../SearchList/SearchList';\r\nimport Favourites from '../Favourites/Favourites';\r\nimport Preloader from '../Preloader/Preloader';\r\n\r\n// import DataContext from '../../context/DataContext';\r\n\r\nexport default function Main({ sortUsers, isLoaded, userSearch, searchResults, handleFavourite, favourite, isLoadError, isLoading }) {\r\n\r\n    // const dataContext = React.useContext(DataContext);\r\n    // React.useEffect(() => {\r\n    //     dataContext && console.log(dataContext);\r\n    // }, []);\r\n\r\n    return (\r\n        <main className='main'>\r\n            <h2 className='main__head'>Users List</h2>\r\n            <div className='main__container'>\r\n\r\n                {/* Пока данные не загружены с сервера в окне списка пользоваталей будет отображаться спинер загрузки */}\r\n                {\r\n                    isLoaded ? <SearchList\r\n                        sortUsers={sortUsers}\r\n                        isLoaded={isLoaded}\r\n                        userSearch={userSearch}\r\n                        searchResults={searchResults}\r\n                        handleFavourite={handleFavourite}\r\n                    /> : <Preloader isLoading={isLoading} isLoadError={isLoadError} />\r\n                }\r\n\r\n                <div className='main__hr' />\r\n\r\n                <Favourites favourite={favourite} />\r\n\r\n            </div>\r\n        </main>\r\n    )\r\n}","const BASE_URL = 'https://randomuser.me/api/?results=5000';\r\n\r\nconst getUsers = () => {\r\n    return fetch(`${BASE_URL}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-type' : 'application/json'\r\n        }\r\n    })\r\n    .then(res => res.json())\r\n    .then(res => {\r\n        return res.results;\r\n    })\r\n};\r\n\r\nexport default { getUsers };","// Здесь хранятся методы заполнения и очистки шаблона для отсортированного списка пользователей\r\n\r\nconst fillUsersCategories = (users) => {\r\n    const usersCategories = { '1-10': [], '11-20': [], '21-30': [], '31-40': [], '41-50': [], '51-60': [], '61-70': [], '71-80': [], '81-90': [], '91-100': [] };\r\n    reNewUsersCategories(usersCategories);\r\n    users.forEach(user => {\r\n        if (user.registered.age >= 0 && user.registered.age <= 10) usersCategories['1-10'].push(user);\r\n        if (user.registered.age >= 11 && user.registered.age <= 20) usersCategories['11-20'].push(user);\r\n        if (user.registered.age >= 21 && user.registered.age <= 30) usersCategories['21-30'].push(user);\r\n        if (user.registered.age >= 31 && user.registered.age <= 40) usersCategories['31-40'].push(user);\r\n        if (user.registered.age >= 41 && user.registered.age <= 50) usersCategories['41-50'].push(user);\r\n        if (user.registered.age >= 51 && user.registered.age <= 60) usersCategories['51-60'].push(user);\r\n        if (user.registered.age >= 61 && user.registered.age <= 70) usersCategories['61-70'].push(user);\r\n        if (user.registered.age >= 71 && user.registered.age <= 80) usersCategories['71-80'].push(user);\r\n        if (user.registered.age >= 81 && user.registered.age <= 90) usersCategories['81-90'].push(user);\r\n        if (user.registered.age >= 91 && user.registered.age <= 100) usersCategories['91-100'].push(user);\r\n    });\r\n\r\n    return usersCategories;\r\n};\r\n\r\nconst reNewUsersCategories = (usersCategories) => {\r\n    const emptyObj = Object.entries(usersCategories).map(items => {\r\n        items[1] = [];\r\n    });\r\n\r\n    return emptyObj;\r\n};\r\n\r\nexport default { fillUsersCategories, reNewUsersCategories };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        // e.target.closest('.main__search-list-user-type').classList.toggle('main__search-list-user-type_close');\r\n        // e.target.closest('.main__search-list-user-type').nextElementSibling && e.target.closest('.main__search-list-user-type').nextElementSibling.classList.toggle('main__search-list-user-type_up');","import React from 'react';\n\nimport './App.css';\nimport DataContext from '../../context/DataContext';\nimport Header from '../Header/Header';\nimport Footer from '../Footer/Footer';\nimport Main from '../Main/Main';\nimport Api from '../../utils/Api';\nimport utils from '../../utils/utils';\n\nfunction App() {\n\n  // Стейт переменные для хранения списка юзеров, состояний загрузки и найденных пользователей\n  const [sortUsers, setSortUsers] = React.useState([]);\n  const [isLoaded, setIsLoaded] = React.useState(false);\n  const [searchResults, setSearchResults] = React.useState([]);\n  const [usersClone, setUsersClone] = React.useState([]);\n  const [favourite, setFavourite] = React.useState(null);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [isLoadError, setIsLoadError] = React.useState(false);\n\n\n  const [dataContext, setDataContext] = React.useState([]);\n\n  // Загрузка данных с сервера\n  React.useEffect(() => {\n    setIsLoaded(false);\n    setIsLoading(true);\n    Api.getUsers()\n      .then(users => {\n        users.sort((a, b) => {\n          return a.registered.age - b.registered.age;\n        });\n        users.map(user => {\n          user.name = user.name.first + ' ' + user.name.last;\n        });\n        setDataContext(utils.fillUsersCategories(users));\n        setSortUsers(utils.fillUsersCategories(users));\n        // setUsersClone(utils.fillUsersCategories(users));\n      })\n      .catch(err => {\n        console.log(err);\n        setIsLoadError(true);\n      })\n      .finally(() => {\n        setIsLoaded(true);\n        setIsLoading(false);\n      });\n  }, []);\n\n  // Метод поиска пользователей в отсортированном списке\n  const userSearch = value => {\n    // setSortUsers(usersClone);\n    setSortUsers(dataContext);\n\n    let tempArr = new Array();\n\n    Object.values(dataContext).map(items => {\n      Object.values(items).map(item => {\n        tempArr.push(item);\n      });\n    });\n\n    const filterUsers = tempArr.filter(i => {\n      return i.name.toLowerCase().includes(value);\n    });\n\n    setSortUsers(utils.fillUsersCategories(filterUsers));\n  };\n\n  // Метод сохранения карточки юзера в переменную состояния \"Избранное\"\n  const handleFavourite = (item) => {\n    setFavourite(item);\n  };\n\n  return (\n    <div className=\"App\">\n      <DataContext.Provider value={dataContext}>\n        <Header />\n        <Main\n          sortUsers={sortUsers}\n          isLoaded={isLoaded}\n          userSearch={userSearch}\n          searchResults={searchResults}\n          handleFavourite={handleFavourite}\n          favourite={favourite}\n          isLoadError={isLoadError}\n          isLoading={isLoading}\n        />\n        <Footer />\n      </DataContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}