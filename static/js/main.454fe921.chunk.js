(this["webpackJsonpjustai-test"]=this["webpackJsonpjustai-test"]||[]).push([[0],{12:function(e,t,r){},13:function(e,t,r){},15:function(e,t,r){"use strict";r.r(t);var a=r(1),s=r.n(a),n=r(6),i=r.n(n),c=(r(12),r(2)),u=(r(13),s.a.createContext()),o=r(0);function l(){return Object(o.jsx)("header",{className:"header",children:Object(o.jsx)("h1",{className:"header__head",children:"JustAI Test Task"})})}function d(){return Object(o.jsx)("footer",{className:"footer",children:Object(o.jsx)("p",{className:"footer__text",children:"\xa92021 JustAI Test Task"})})}var m=r.p+"static/media/trash.4664d724.svg";function h(e){e.index;var t=e.picture,r=e.name,a=e.registered,s=e.email,n=e.handleFavourite,i=e.isFavouriteDOM,c=e.handleDeleteFavourite,u=[{picture:t,name:r,registered:a,email:s}];return Object(o.jsxs)("div",{className:"user-card",draggable:!0,onDragStart:function(e){return function(e,t){e.target.closest(".main__search-list")&&(n(t),document.querySelector(".main__favourites-list").style.background="steelblue",document.querySelector(".main__favourites-list").style.opacity=".6",e.target.style.border="2px solid steelblue",document.querySelector(".main__favourites-list_overlay").style.visibility="hidden",document.querySelector(".main__favourites-list_overlay").style.opacity="0",document.querySelector(".main__favourites-list_overlay").style.transition="all .2s linear")}(e,u)},onDragEnd:function(e){return function(e){e.target.closest(".main__search-list")&&(document.querySelector(".main__favourites-list").style.background="white",document.querySelector(".main__favourites-list").style.opacity="1",e.target.style.border="1px solid steelblue",document.querySelector(".main__favourites-list_overlay").style.visibility="visible",document.querySelector(".main__favourites-list_overlay").style.opacity="1",document.querySelector(".main__favourites-list_overlay").style.transition="all .2s linear")}(e)},onDragOver:function(e){return function(e){e.preventDefault()}(e)},children:[Object(o.jsx)("img",{className:"user-card__img",src:t.large,alt:"User img"}),Object(o.jsxs)("div",{className:"user-card__data",children:[Object(o.jsx)("p",{className:"user-card__text",children:r}),Object(o.jsxs)("p",{className:"user-card__text",children:["register data: ",new Date(a.date).toLocaleString("en",{month:"long",day:"numeric",year:"numeric"})]}),Object(o.jsx)("p",{className:"user-card__text",children:s})]}),i&&Object(o.jsx)("img",{src:m,alt:"delete",className:"user-card__delete-icon",onClick:function(e){return c(e,r)}})]})}function j(e){var t=e.userSearch,r=s.a.useState(""),a=Object(c.a)(r,2),n=a[0],i=a[1];return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("input",{type:"text",name:"input",value:n||"",placeholder:"Search field (enter name with lower case)",className:"main__search-input",onChange:function(e){var r=e.target.value;"input"===e.target.name&&i(r),t(r)}})})}function _(e){var t=e.sortUsers,r=e.isLoaded,a=e.userSearch,s=e.searchResults,n=e.handleFavourite,i=function(e){e.target.closest(".main__search-list-user-type").querySelector(".main__search-list-type-users").classList.toggle("main__search-list-type-users_close")};return Object(o.jsxs)("div",{className:"main__search-list",children:[Object(o.jsx)("h3",{className:"main__search-list-head",children:"Search user"}),Object(o.jsx)(j,{userSearch:a,searchResults:s,sortUsers:t}),Object(o.jsx)("div",{className:"main__search-list-users",children:r&&Object.entries(t).map((function(e,t){return Object(o.jsxs)("div",{className:"main__search-list-user-type ".concat(e[1].length<1&&"main__search-list-user-type_disabled"),children:[Object(o.jsxs)("div",{className:"main__search-list-user-type-head",onClick:i,children:[Object(o.jsx)("p",{className:"main__search-list-user-type-name",children:e[0]}),Object(o.jsx)("span",{className:"main__search-list-user-type-arrow",children:"\u21f5"})]}),Object(o.jsx)("ul",{className:"main__search-list-type-users",children:e[1].map((function(e,t){var r=Object.assign({},e);return Object(o.jsx)(h,{index:t,picture:r.picture,name:r.name,registered:r.registered,email:r.email,handleFavourite:n},t)}))})]},t)}))})]})}var g=r(7);function f(e){var t=e.favourite,r=s.a.useState([]),a=Object(c.a)(r,2),n=a[0],i=a[1],u=s.a.useState(null),l=Object(c.a)(u,2),d=l[0],m=l[1],j=function(e,t){i(n.filter((function(e){return e.name!==t})))};return Object(o.jsxs)("div",{className:"main__favourites",children:[Object(o.jsx)("h3",{className:"main__favourites-head",children:"Favourites"}),Object(o.jsx)("ul",{className:"main__favourites-list",draggable:!0,onDrop:function(e){return function(e){e.preventDefault(),t.map((function(e){n.some((function(t){return t.name===e.name}))||i([].concat(Object(g.a)(n),[e]))}))}(e)},onDragOver:function(e){return function(e){e.preventDefault()}(e)},children:Object(o.jsx)("div",{className:"main__favourites-list_overlay",children:n.map((function(e,t){return Object(o.jsx)("li",{className:"main__favourites-list-item",draggable:!0,onDragOver:function(e){return function(e){e.preventDefault()}(e)},onDragLeave:function(e){},onDragStart:function(t){return function(e,t){m(t)}(0,e)},onDragEnd:function(e){return function(e){e.target.style.boxShadow="none"}(e)},onDrop:function(t){return function(e,t){e.preventDefault(),e.target.closest(".main__search-list")||(i(n.map((function(e){return e===t?d:e===d?t:e}))),e.target.style.boxShadow="none")}(t,e)},children:Object(o.jsx)(h,{index:t,picture:e.picture,name:e.name,registered:e.registered,email:e.email,isFavouriteDOM:true,handleDeleteFavourite:j},t)},t)}))})})]})}function v(e){var t=e.isLoadError,r=e.isLoading,a=!t&&!r&&"preloader__visible",s=!r&&"preloader__visible",n=!t&&"preloader__visible";return Object(o.jsxs)("section",{className:"preloader ".concat(a),children:[Object(o.jsx)("i",{className:"circle-preloader ".concat(s)}),Object(o.jsx)("div",{className:"preloader__container ".concat(n),children:Object(o.jsx)("p",{className:"preloader__text",children:"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437"})})]})}function b(e){var t=e.sortUsers,r=e.isLoaded,a=e.userSearch,s=e.searchResults,n=e.handleFavourite,i=e.favourite,c=e.isLoadError,u=e.isLoading;return Object(o.jsxs)("main",{className:"main",children:[Object(o.jsx)("h2",{className:"main__head",children:"Users List"}),Object(o.jsxs)("div",{className:"main__container",children:[r?Object(o.jsx)(_,{sortUsers:t,isLoaded:r,userSearch:a,searchResults:s,handleFavourite:n}):Object(o.jsx)(v,{isLoading:u,isLoadError:c}),Object(o.jsx)("div",{className:"main__hr"}),Object(o.jsx)(f,{favourite:i})]})]})}var p=function(){return fetch("".concat("https://randomuser.me/api/?results=5000"),{method:"GET",headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e.results}))},O=function(e){return Object.entries(e).map((function(e){e[1]=[]}))},x=function(e){var t={"1-10":[],"11-20":[],"21-30":[],"31-40":[],"41-50":[],"51-60":[],"61-70":[],"71-80":[],"81-90":[],"91-100":[]};return O(t),e.forEach((function(e){e.registered.age>=0&&e.registered.age<=10&&t["1-10"].push(e),e.registered.age>=11&&e.registered.age<=20&&t["11-20"].push(e),e.registered.age>=21&&e.registered.age<=30&&t["21-30"].push(e),e.registered.age>=31&&e.registered.age<=40&&t["31-40"].push(e),e.registered.age>=41&&e.registered.age<=50&&t["41-50"].push(e),e.registered.age>=51&&e.registered.age<=60&&t["51-60"].push(e),e.registered.age>=61&&e.registered.age<=70&&t["61-70"].push(e),e.registered.age>=71&&e.registered.age<=80&&t["71-80"].push(e),e.registered.age>=81&&e.registered.age<=90&&t["81-90"].push(e),e.registered.age>=91&&e.registered.age<=100&&t["91-100"].push(e)})),t};var y=function(){var e=s.a.useState([]),t=Object(c.a)(e,2),r=t[0],a=t[1],n=s.a.useState(!1),i=Object(c.a)(n,2),m=i[0],h=i[1],j=s.a.useState([]),_=Object(c.a)(j,2),g=_[0],f=(_[1],s.a.useState([])),v=Object(c.a)(f,2),O=(v[0],v[1],s.a.useState(null)),y=Object(c.a)(O,2),S=y[0],N=y[1],D=s.a.useState(!1),L=Object(c.a)(D,2),F=L[0],q=L[1],w=s.a.useState(!1),E=Object(c.a)(w,2),k=E[0],U=E[1],C=s.a.useState([]),R=Object(c.a)(C,2),T=R[0],A=R[1];return s.a.useEffect((function(){h(!1),q(!0),p().then((function(e){e.sort((function(e,t){return e.registered.age-t.registered.age})),e.map((function(e){e.name=e.name.first+" "+e.name.last})),A(x(e)),a(x(e))})).catch((function(e){console.log(e),U(!0)})).finally((function(){h(!0),q(!1)}))}),[]),Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)(u.Provider,{value:T,children:[Object(o.jsx)(l,{}),Object(o.jsx)(b,{sortUsers:r,isLoaded:m,userSearch:function(e){a(T);var t=new Array;Object.values(T).map((function(e){Object.values(e).map((function(e){t.push(e)}))}));var r=t.filter((function(t){return t.name.toLowerCase().includes(e)}));a(x(r))},searchResults:g,handleFavourite:function(e){N(e)},favourite:S,isLoadError:k,isLoading:F}),Object(o.jsx)(d,{})]})})};i.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(y,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.454fe921.chunk.js.map